<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="goods">

<select id="list" resultType="goods.GoodsVO">
select rownum, g.*, go.*, s.store_name
from goods g
inner join goods_option go on g.goods_no = go.goods_no
inner join store s on s.store_no = g.store_no
where go.goods_middle_category = #{goods_middle_category}
<!-- select G.* , GO.*, S.STORE_NAME -->
<!-- from  -->
<!-- GOODS G INNER JOIN GOODS_OPTION GO  -->
<!-- ON G.GOODS_NO = GO.GOODS_NO  -->
<!-- INNER JOIN STORE S -->
<!-- ON S.STORE_NO = G.STORE_NO -->
<!-- WHERE GOODS_MIDDLE_CATEGORY = #{GOODS_MIDDLE_CATEGORY} -->
</select>
	
<select id="stylelist" resultType="goods.GoodsVO">
select G.* , GO.*, S.STORE_NAME
from 
GOODS G INNER JOIN GOODS_OPTION GO 
ON G.GOODS_NO = GO.GOODS_NO 
INNER JOIN STORE S
ON S.STORE_NO = G.STORE_NO
WHERE GOODS_STYLE = #{GOODS_STYLE}
</select>	
	
<select id="subcategorylist" resultType="goods.GoodsVO">
select rownum, g.*, go.*, s.store_name
from goods g
inner join goods_option go on g.goods_no = go.goods_no
inner join store s on s.store_no = g.store_no
where goods_middle_category = #{goods_middle_category} and goods_sub_category = #{goods_sub_category}
</select>	

<select id="goodsboard" resultType="goods.GoodsVO">
select G.* , GO.*, S.STORE_NAME , S.STORE_DELIVERY_TIP
from 
GOODS G INNER JOIN GOODS_OPTION GO 
ON G.GOODS_NO = GO.GOODS_NO 
INNER JOIN STORE S
ON S.STORE_NO = G.STORE_NO
WHERE G.GOODS_NO =#{GOODS_NO}
</select>	




</mapper>